services:
  mishran-server:
    build:
      context: .
    container_name: mishran-server
    ports:
      - "8080:8080"
    environment:
      - AI_DIRECTOR_URL=https://hari-n8n.laddu.cc/webhook/ai-director-input
    volumes:
      # Mount the recordings directory for persistence
      - ./recordings:/app/recordings
      # Mount the current directory to /app to retrieve processed outputs
      # We use anonymous volumes to protect the container's internal libraries
      - .:/app
      - /app/node_modules
      - /app/venv
    restart: unless-stopped

networks:
  default:
    name: mishran-network
